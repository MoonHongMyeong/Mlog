# 포트폴리오용 블로그 토이 프로젝트

프론트 작업은 react
백엔드 작업은 springboot


===backend 
java 11.0.9
springboot 2.4.3(SNAPSHOT)
spring data jpa hibernate
Lombok
gradle6.x
--testing tool
Junit5
Google truth
TestRestTemplete
===db
H2database dev only
MySQL database 
===frontend
react 17.0.1
react-router-dom 5.2.0
styled-components 5.2.1
axios 0.21.1

참고 사이트 blex.me
markdown 언어는 문서작업에 최적화 되어있는데 블로그에서는 글이 중심이니 markdown api로 쓸수 있도록 해보자
최근 JPA에 관심이 많아져서 JPA를 사용하고싶다

===아키텍쳐 의사결정 기록
프로그래밍언어
JAVA, SPRINGBOOTframework
국비지원 6개월 동안 자바와 스프링을 배웠고 JPA가 지금 내가 생각하는 제일 관심사 이기 문에

DB
프로토 타입은 가벼운H2를 사용하고
실제로 배포는 MySQL을 사용하자 오라클이 더 친하긴한데 mysql도 많이 쓴다고들 하니까

배포
책으로 본게 AWS로 배포하는 방법이라서 AWS인프라로 무중단 배포까지 해보자
Docker 실무에서 많이들 사용한다고 하니까 한번 배워보는 김에 써보자

목표
목표는 백엔드에서는 junit테스트로 모든 기능 100% 커버하는것
프론트는 리액트를 사용할건데 리액트 테스팅툴은 뭐가 있는지 뭐가 좋은지도 모르겠다. 일단 백엔드 테스트 끝나면 생각해보자


처음에 생각한건 포스트 댓글 회원 까지였는데 회원쪽은 배포할때 개인정보같은거 때문에 문제 생길것 같아서 배포용에서는 따로작성하지 않음
포트폴리용이 아닌 내가 정말 쓰려는 블로그 erd구상은 끝났음

친숙한 application.properties에서 application.yml로 바꿔봄
이거 생각보다 익히기 어렵지 않았고 처음 빌드할때 메이븐 안쓰고 그레이들써봐서 그런지 가독성도 괜찮은듯?

//0130
백엔드 api 구현 끝났고
CORS문제 해결을 위해서 react에서는 package.json에 proxy설정을 넣었고, 현재 존재하는 도메인과 정보를 불러오는 도메인에 차이가 생기면 보안때문에 자동으로 차단되는게 CORS 이걸 풀어줄수 있는방법
부트에서는 @Cross-Origin 어노테이션을 사용했다.
프론트 작업중인데 포스트 리스트, 기본 ui, 뷰 포스트 까지는 구현 아 코맨트폼도
안되는 부분 포스트 수정화면 하고 댓글 리스트 안불러와짐 

//0201
백엔드 api 수정
파일이 들어가야 해서 테스트 다시작성함
포스트 작성은 작성 완료후에 다시 목록으로 가거나 해당 포스트로 이동시켜버리기 문에
백엔드에서 아무데이터나 넘겨도 됐지만
댓글리스트는 한 페이지내에서 작성이 완료되면 바로 랜더링 되야되기 때문에
ResponseEntity로 작성을 해야할 필요성을 느낌
ResponseEntity로 전달해 줘야 할 상황은 success와 input한 data

//0202
post, commment , reply 전부 끝남 화면단
유효성 검사 프론트단에서 끝냄
---남은것 : 검색구현 ,페이징, 단위테스트, 배포, markdown api(이건 전부 끝나고 마지막에 넣을것) 아마 markdown양식으로 쓴 글을 api로 보내서 받아온 데이터를 posts_content에 뿌려주기만 하면될것같음
-페이징 : JPA pageable있으니 딱히 걱정 할건 없는듯
-검색구현 : qureyDSL 사용하고 싶으나 여의치 않으면 JPQL로 넘어갈것
-단위테스트 : comments, reply는 문제없는데 posts에 파일 추가 하는것 때문에 문제 생길것 같음
--1. 프론트 단에서 파일을 넣고 파일경로만 서버로 보내는 방법
--2. 백엔드에서 파일을 받고 파일을 프론트에서 볼수있는 폴더에 저장하고 경로만 디비에 넣는방법 << 현재 택한방식 여의치않으면 클라이언트단에서 해결해야 할수도
-배포 :  제일큰 문제 책한권으로 해결할수 있을까?
-markdownapi 이건 위에 설명해놨고

사실 styled-components를 내방식대로 쓰는건 아닌거 같긴한데 ㅋㅋㅋ;;; 반응형 문에 컨테이너에 css전부 박아넣는건 좀 아닌거 같기도 하고ㅋㅋ;
veloport 님꺼 유튜브 라이브 보면서 레이아웃부터 짜가는 방식이 정말 실무에 맞는 방식인것 같긴하다 이건 리팩토링으로 어떻게 커버해보자,,,,,,,,,,,,,,,,,,,

전부끝나면 리팩토링해서 제일 병맛같은 세터부터 빌더로 채택하고 백엔드는 딱히 건드릴게 없다 포스트 등록 파일 받는 부분때문에 컨트롤러가 지저분한데 그걸 전부 서비스로 옮겨야하나 싶기도하고 그것 제외하면
현재 내가 아는 방도에서는 어떻게 더 실무에 가까운가 모르겠음.......
프론트단은 템플릿라이브러리를 쓰던가 아니면 스타일컴포넌트를 더 잘쓰는 연습을 해야겠음 
시간이 난다면 atom 디자인패턴으로 갈아엎고 싶긴 함
